(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9603],{64931:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return re},default:function(){return ne}});var n=r(67294),a=(r(30467),r(55673)),i=(r(58136),r(5789)),o=r(11163),u=r(2804),c=r(4526),l=r(70917),s=r(75447),d=r(6642),p=r(81720),v=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1];return(0,n.useEffect)((function(){r(!0)}),[]),t},g=r(82447),f=r(14137),y=r(76995),m=r(51289),h=r(74766),P=r(41364),b=r(59092),w=r(78883),Z=r(73579),x=r(51465),S=r(88767),N=r(69256),k=r(34846),R=function(){var e,t,r,n=(0,f.Z)().isPC,a=(0,o.useRouter)().query,i=a.keyword,c=a.category,l=a.page,s=(a.prevAds,(0,u.sJ)(k.hB)),d={keyword:i,page:l&&+l-1||0,quantity:n?80:20,adExposureArea:"LIST_INNER",jnAdsChannelId:i?"TOTAL_SEARCH_SHOPPING_INNER_LIST":"CATEGORY_PRODUCTS_INNER_LIST",previousTotalCount:null,category1:(null===(e=s.categoryPath[0])||void 0===e?void 0:e.categoryName)||null,category2:(null===(t=s.categoryPath[1])||void 0===t?void 0:t.categoryName)||null,category3:(null===(r=s.categoryPath[2])||void 0===r?void 0:r.categoryName)||null};return(0,S.useQuery)(["searchPageAds",d],(function(){return(0,N.E4)(d)}),{enabled:!!i||!!c}).data},_=r(69009),O=r(809),E=r.n(O),T=r(30266),D=r(92809),I=r(47628),L=r(723);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,D.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(){var e=(0,T.Z)(E().mark((function e(t){var r,n,a,i,o,u,c,l,s,d,p,v,g,f,y,m,h;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=z({},k.hl),n=t.category,a=t.minPrice,i=t.maxPrice,o=t.lat,u=t.lon,!n){e.next=9;break}return c=Number(n),e.next=6,I.bE(c);case 6:l=e.sent,s=l.data,r=z(z({},r),{},{categoryPath:s,categoryDepth:s.length,categorySeq:c});case 9:if((a||i)&&(d=a?Number(a):0,p=i?Number(i):100,r=z(z({},r),{},{priceRange:[d,p]})),!o||!u){e.next=17;break}return e.next=13,L.O(Number(o),Number(u));case 13:v=e.sent,g=v.data,f=g[0],y=f.locationCode,m=f.locationType,h=f.locationName,r=z(z({},r),{},{locations:[{locationCode:Number(y),locationType:m,locationName:h}]});case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.SSRInitialFilterData,r=(0,n.useState)(!1),a=r[0],i=r[1],c=(0,o.useRouter)().query,l=c.category,s=(0,u.Zl)(k.hB),d=null===t||void 0===t?void 0:t.categoryPath,p=function(){var e=(0,T.Z)(E().mark((function e(r){var n;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=6;break}return e.next=3,q(c);case 3:n=e.sent,e.next=7;break;case 6:n=t;case 7:return e.next=9,s(n);case 9:i(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){var e;if(t){var r=l&&Number(l),n=null===d||void 0===d||null===(e=d.slice(-1)[0])||void 0===e?void 0:e.categorySeq;p(r!==n)}}),[t]),a},U=function(){var e=(0,S.useQuery)(["searchTabData"],(function(){return N.nz()})).data,t=null===e||void 0===e?void 0:e.data,r=(0,u.Zl)(k.vh);(0,n.useEffect)((function(){if(t){var e=t.searchTabList[0].tabKey.split("_")[0];r({searchTab:t,activeTab:e,viewType:!1})}}),[t])},A=r(27484),H=r.n(A),F=r(11151),G=function(){var e=(0,T.Z)(E().mark((function e(t){var r,n,a,i,o,u,c,l,s,d,p,v,g,f,y,m,h,P,b,w=arguments;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.categoryPath,o=t.pageSize,u=t.query,c=w.length>1&&void 0!==w[1]&&w[1],l=u.category,s=u.maxPrice,d=u.minPrice,p=u.sort,v=u.page,g=u.keyword,f="string"===typeof g?decodeURI(g):"",y=Number(v||1)-1,m=l?Number(l):0,h={startIndex:y,searchStartTime:H()().format("YYYY-MM-DD HH:mm:ss"),filter:{maxPrice:s?Number(s):F.GD[0].value[1],minPrice:d?Number(d):F.GD[0].value[0],categoryDepth:null===i||void 0===i?void 0:i.length,categorySeq:m},searchQuantity:o,categoryName1:(null===i||void 0===i||null===(r=i[0])||void 0===r?void 0:r.categoryName)||"",categoryName2:(null===i||void 0===i||null===(n=i[1])||void 0===n?void 0:n.categoryName)||"",categoryName3:(null===i||void 0===i||null===(a=i[2])||void 0===a?void 0:a.categoryName)||"",quantity:o,firstQuantity:o,searchWord:f,sort:p,osType:2},e.prev=7,e.next=10,N.vu(h,c);case 10:return P=e.sent,b=P.data,e.abrupt("return",b);case 15:return e.prev=15,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=e.mobilePageSize,r=e.pcPageSize,a=(0,u.sJ)(k.hB),i=(0,n.useState)(),c=i[0],l=i[1],s=a.categoryPath,d=(0,o.useRouter)().query,p=(0,f.Z)().isPC,v=(0,S.useMutation)(function(){var e=(0,T.Z)(E().mark((function e(n){var a,i;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?r:t,e.next=3,G({categoryPath:s,pageSize:a,query:d});case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(e){l(e)}}),g=v.mutate,y=v.isLoading,m=v.isError;return(0,n.useMemo)((function(){var e={totalSize:0,naverPowerLinkResult:null,naverShoppingResult:null,items:[]};if(c){var t,r=c,n=r.totalSize,a=r.items,i=r.naverPowerLinkResult,o=r.naverShoppingResult;e.totalSize=n,e.naverPowerLinkResult=(null===i||void 0===i||null===(t=i.items)||void 0===t?void 0:t.length)>0?null===i||void 0===i?void 0:i.items:null,e.naverShoppingResult=(null===o||void 0===o?void 0:o.items.length)>0?null===o||void 0===o?void 0:o.items:null,e.items=a}return{data:e,isLoading:y,isError:m,refetch:g,isPC:p}}),[c,y,m,g])},Y=r(56786);var B=(0,l.iv)("width:100%;margin:0 auto;max-width:1280px;padding:0 40px;@media (max-width: ",c.uU,"){padding:8px 24px 0 24px;}@media (max-width: ",c.uU,"){padding:8px 20px 0 20px;}","",""),K=(0,l.iv)("@media (min-width: ",c.uU,"){padding-left:20px;padding-top:28px;}@media (max-width: ",c.uU,"){flex:100%;max-width:100%;}","",""),Q=(0,l.iv)("@media (max-width: ",c.uU,"){display:flex;align-items:center;justify-content:space-between;height:44px;}","",""),J=(0,l.iv)("width:100%;margin-top:100px;font-size:14px;text-align:center;span{color:",p.D.gray5,";}","",""),W={name:"30tvht",styles:"margin-bottom:60px"},X=function(e){var t=e.initialFilterData,r=(0,f.Z)().isPC,p=(0,o.useRouter)().query,S=p.keyword,N=v(),O=R(),E=(0,d.Z)().addRecentSearches,T=(0,n.useMemo)((function(){return"string"===typeof p.keyword?decodeURI(p.keyword):""}),[p.keyword]);(0,n.useEffect)((function(){p.keyword&&E(T)}),[p.keyword]);var D=(0,u.sJ)(k.vh),I=(0,g.Z)("PagePopUpAlpah"),L=I.PopUp,j=I.onTogglePopUp,z=(0,_.Z)({onTogglePopUp:j}),q=M({mobilePageSize:s.Hl.tablet,pcPageSize:s.Hl.pc}),A=q.isLoading,H=q.data,F=q.refetch,G=H.items,X=H.totalSize,$=H.naverShoppingResult,V=H.naverPowerLinkResult,ee=(0,n.useMemo)((function(){return A||0!==(null===G||void 0===G?void 0:G.length)?(0,l.tZ)(P.Z,{type:!r&&D.viewType?"LIST":"GALLERY",flexItemsSize:{PC:"25%"},products:G||[],ads:(null===O||void 0===O?void 0:O.adsInnerListItems)||[],name:"\uce74\ud14c\uace0\ub9ac \uac80\uc0c9",className:"listWrap",priority:!0}):(0,l.tZ)("div",{css:J},"\ud574\ub2f9 \uce74\ud14c\uace0\ub9ac\uc5d0 \ub300\ud55c \uc0c1\ud488 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")}),[H,r,D]);U();var te=C({SSRInitialFilterData:t});return(0,n.useEffect)((function(){N&&F(r)}),[te,r]),(0,l.tZ)(h.Z,{headerOptions:z},(0,l.tZ)(a.Z,{css:B},(0,l.tZ)(i.Z,{span:4,css:(0,m.Z)({to:c.uU})},(0,l.tZ)(x.Z,null)),(0,l.tZ)(i.Z,{span:20,css:K},(0,l.tZ)("div",{css:Q},(0,l.tZ)(w.Z,{searchKeyword:S,totalSize:X}),(0,l.tZ)(Y.Z,null)),ee,(0,l.tZ)(y.Z,{css:W,totalSize:X,size:r?s.Hl.pc:s.Hl.tablet,pageNumber:r?11:3}),(0,l.tZ)(b.Z,{naverShoppingAdsResult:$,naverPowerLinkResult:V}))),(0,l.tZ)(L,null,(0,l.tZ)(Z.Z,null)))},$=r(79196),V=r(2962),ee=r(17551),te=function(e){var t,r,a,i,o,u=e.query,c=e.filterData,s=e.searchItems,d="",p="";(null===s||void 0===s?void 0:s.length)>0&&(s.forEach((function(e,t){d+="".concat(e.title,",")})),p=(0,ee.M$)(null===(o=s[0])||void 0===o?void 0:o.url));var v=Object.entries(u).map((function(e){var t=(0,$.Z)(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&"),g="".concat("https://web.joongna.com","?").concat(v),f=u.keyword,y=!!f,m=(0,l.tZ)(V.PB,{title:(null===c||void 0===c||null===(t=c.categoryPath[0])||void 0===t?void 0:t.categoryName)||"\uc804\uccb4 \uce74\ud14c\uace0\ub9ac",description:d,canonical:g,openGraph:{type:"website",locale:"ko_KR",url:g,site_name:"".concat(null===c||void 0===c||null===(r=c.categoryPath[0])||void 0===r?void 0:r.categoryName," | \uc911\uace0\ub098\ub77c"),title:(null===c||void 0===c||null===(a=c.categoryPath[0])||void 0===a?void 0:a.categoryName)||"\uc804\uccb4 \uce74\ud14c\uace0\ub9ac",description:d,images:[{url:p,alt:(null===c||void 0===c||null===(i=c.categoryPath[0])||void 0===i?void 0:i.categoryName)||"\uc804\uccb4",width:250,height:250}]}}),h=(0,l.tZ)(V.PB,{title:f&&f||"\uc0c1\ud488 \uac80\uc0c9",description:d,canonical:g,openGraph:{type:"website",locale:"ko_KR",url:g,site_name:"".concat(f&&f||"\uc0c1\ud488 \uac80\uc0c9"," | \uc911\uace0\ub098\ub77c"),title:f&&f||"\uc0c1\ud488 \uac80\uc0c9",description:d,images:[{url:p,alt:f&&f||"\uc0c1\ud488",width:250,height:250}]}});return(0,l.tZ)(n.Fragment,null,y?h:m)},re=!0,ne=function(e){var t=e.initialFilterData,r=e.initialSearchItems,a=e.query;return(0,l.tZ)(n.Fragment,null,(0,l.tZ)(te,{searchItems:r,filterData:t,query:a}),(0,l.tZ)(X,{initialFilterData:t}))}},70755:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return r(64931)}])}},function(e){e.O(0,[8107,8229,1809,9533,6401,3193,1862,1848,6786,2888,9774,179],(function(){return t=70755,e(e.s=t);var t}));var t=e.O();_N_E=t}]);